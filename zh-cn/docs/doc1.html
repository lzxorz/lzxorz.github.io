<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="keywords" content="Freeman,快速开发框架" />
	<meta name="description" content="Freeman快速开发框架" />
	<!-- 网页标签标题 -->
	<title>文档</title>
	<link rel="shortcut icon" href="/img/docsite.ico"/>
	<link rel="stylesheet" href="/build/documentation.css" />
</head>
<body>
	<div id="root"><div class="documentation-page" data-reactroot=""><header class="header-container header-container-normal"><div class="header-body"><div class="header-menu"><img class="header-menu-toggle" src="/img/system/menu_gray.png"/><ul><li class="menu-item menu-item-normal"><a href="/zh-cn/index.html" target="_self">首页</a></li><li class="menu-item menu-item-normal menu-item-normal-active"><a href="/zh-cn/docs/doc1.html" target="_self">文档</a></li><li class="menu-item menu-item-normal"><a href="/zh-cn/blog/index.html" target="_self">博客</a></li><li class="menu-item menu-item-normal"><a href="/zh-cn/blog/resume.html" target="_self">个人简历</a></li></ul></div></div></header><div class="bar"><div class="bar-body"><img src="/img/system/docs.png" class="front-img"/><span>文档</span><img src="/img/system/docs.png" class="back-img"/></div></div><section class="content-section"><div class="sidemenu"><div class="sidemenu-toggle"><img src="https://img.alicdn.com/tfs/TB1E6apXHGYBuNjy0FoXXciBFXa-200-200.png"/></div><ul><li class="menu-item menu-item-level-1"><span>Freeman框架文档</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/doc1.html" target="_self">快速开始</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/zh-cn/docs/doc2.html" target="_self">Dao框架</a></li></ul></li></ul></div><div class="doc-content markdown-body"><h3>Freeman 快速开发框架</h3>
<div style="text-align: center">
<p><a href="https://github.com/elunez/eladmin/blob/master/LICENSE"><img src="https://img.shields.io/badge/license-Apache%20License%202.0-blue.svg" alt="AUR"></a>
<img src="https://img.shields.io/badge/license-Apache%202.0-blue.svg?longCache=true&amp;style=flat-square" alt="https://img.shields.io/badge/license-Apache%202.0-blue.svg?longCache=true&amp;style=flat-square">
<img src="https://img.shields.io/badge/springboot-2.1.4-yellow.svg?longCache=true&amp;style=flat-square" alt="https://img.shields.io/badge/springboot-2.1.4-yellow.svg?longCache=true&amp;style=flat-square">
<img src="https://img.shields.io/badge/shiro-1.4.0-orange.svg?longCache=true&amp;style=flat-square" alt="https://img.shields.io/badge/shiro-1.4.0-orange.svg?longCache=true&amp;style=flat-square">
<img src="https://img.shields.io/badge/vue-2.6.10-brightgreen.svg?longCache=true&amp;style=flat-square" alt="https://img.shields.io/badge/vue-2.6.10-brightgreen.svg?longCache=true&amp;style=flat-square"></p>
</div>
<h4>项目简介</h4>
<p>Freeman是基于 Spring Boot2 + Spring data Jpa + Shiro + Vue2 + JWT 的前后端分离的敏捷开发框架；以Spring Framework为核心容器，Spring data Jpa(Hibernate实现)为数据访问层， Apache Shiro为权限框架，Redis对常用数据进行缓存，前端使用Vue全家桶，前后端分离、JWT鉴权的开源框架。</p>
<p>角色的功能权限控制方式为基于RBAC规范的Shiro，角色数据范围控制是根据用户的所属机构、数据的创建者(用户ID)实现。项目支持前端菜单动态路由。前后端交互使用JWT验证权限，使用Redis调用lua脚本CAS的方式，并且在令牌刷新时，旧令牌续命30秒进行平滑过渡，丝般顺滑地达到了用户无感知动态刷新JWT的目的。</p>
<p>jpa<code>动态条件查询写起来麻烦</code>，<code>项目的逻辑复杂的时候，代码冗长、sql逻辑不直观</code>的坑，我想努力填一下，这是我写这个项目的初衷。</p>
<p>已内置很多优秀的基础功能和高效的 工具，包括：系统权限组件、数据权限组件、数据字典组件等。前端界面风格采用了阿里开源的<code>ant-design-vue</code>框架。密码加密、访问验证、数据权限验证。使用Maven做项目管理，提高项目的易开发性、扩展性。</p>
<p>目前功能模块代码生成器、权限框架、数据字典、数据缓存、数据监控、计划任务、多数据源管理、类似mybatis动态SQL、短信发送、邮件发送、统计功能等功能。</p>
<h4>技术特点</h4>
<p>使用目前流行的WEB开发架构技术，如 SpringBoot,Mybatis, jpa(Hibernate),Apache Shiro ,JWT 等等，目前仅保证对MySQL数据库的完美支持。 分层设计：使用分层设计，分为dao，service，Controller，低耦合，高内聚。</p>
<h4>安全考虑</h4>
<p>严格遵循了web安全的规范，前后端交互使用了JWT，参数编码传输，密码md5加密存储，shiro权限验证，从根本上避免了SQL注入，XSS攻击，CSRF攻击等常见的web攻击手段。</p>
<h4>令牌刷新方式</h4>
<p>前端axios请求拦截器自动把令牌放入head，axios响应拦截器中检查有<code>newToken</code>标记，有就更新保存的令牌。后端shiro拦截需要权限的接口，每次都拿到JWT进行认证。采用CAS机制+刚过期令牌续期30秒，实现用户无感知刷新，
并且在令牌过期时大量并发请求不会出错。</p>
<p><strong>开发文档</strong>  <a href="https://lzxorz.github.io/zh-cn/docs/doc1.html">https://lzxorz.github.io/zh-cn/docs/doc1.html</a></p>
<p><strong>体验地址</strong>  <a href="http://139.199.112.93">http://139.199.112.93</a></p>
<p><strong>账号、密码</strong> <code>system/123456</code></p>
<hr>
<h4>项目源码</h4>
<table>
<thead>
<tr>
<th>平台</th>
<th>源码链接</th>
</tr>
</thead>
<tbody>
<tr>
<td>github</td>
<td><a href="https://github.com/lzxorz/freeman">https://github.com/lzxorz/freeman</a></td>
</tr>
<tr>
<td>码云</td>
<td><s><a href="https://gitee.com/lzxorz/freeman">https://gitee.com/lzxorz/freeman</a></s></td>
</tr>
</tbody>
</table>
<hr>
<h4>技术架构</h4>
<h5>开发环境</h5>
<ul>
<li>语言：java8</li>
<li>IDE(后端)： IDEA 或者 Eclipse</li>
<li>IDE(前端)： vscode 或者 WebStorm 或者 IDEA</li>
<li>依赖管理：Maven</li>
<li>构建工具：Maven</li>
<li>数据库：MySQL5.7+</li>
<li>缓存：Redis4+</li>
</ul>
<h5>技术选型</h5>
<p>1、后端</p>
<ul>
<li>核心框架：Spring boot 2.1.4</li>
<li>持久层框架：Spring Data Jpa</li>
<li>数据库连接池：hikari <s>Alibaba Druid</s></li>
<li>安全框架：Apache Shiro 1.4、java-jwt3.8.1</li>
<li>服务端验证：Hibernate Validator</li>
<li>日志框架：Logback</li>
<li>任务调度：Quartz</li>
<li>缓存框架：Redis</li>
<li>工具类：Hutool 4.5.6、fastjson 1.2.58、Mapstruct 1.3.0.Final</li>
<li>其他: lombok 1.18.8、Swagger 2.9.2、Ip2region 1.7.2、dozer 5.5.1、fst 2.5.7</li>
</ul>
<p>2、前端</p>
<ul>
<li>核心框架：Vue 2.6.10,ant-design-vue</li>
<li>路由管理：Vue Router</li>
<li>状态管理：Vuex</li>
<li>http库：Axios</li>
<li>构建工具：@vue/cli 3.8.2,yarn</li>
<li>富文本编辑器：vue-ueditor-wrap</li>
<li>图表库：vue-apexcharts</li>
<li>代码检测：Eslint</li>
<li>头像裁剪组件：vue-cropper</li>
</ul>
<hr>
<h4>系统功能</h4>
<ul>
<li>用户管理：提供用户的相关配置，新增用户后，默认密码为123456</li>
<li>角色管理：对权限与菜单进行分配，可以设置角色的数据范围</li>
<li>权限管理：权限细化到接口，可以理解成按钮权限</li>
<li>菜单管理：已实现菜单动态路由，后端可配置化，支持多级菜单</li>
<li>部门管理：可配置系统组织架构，树形表格展示</li>
<li>岗位管理：配置各个部门的职位</li>
<li>字典管理：应广大码友的要求加入字典管理，可维护常用一些固定的数据，如：状态，性别等</li>
<li>操作日志：记录用户操作的日志</li>
<li>异常日志：记录异常日志，方便开发人员定位错误</li>
<li>系统缓存：使用jedis将缓存操作可视化，并提供对redis的基本操作，可根据需求自行扩展</li>
<li>定时任务：整合Quartz做定时任务，加入任务日志，任务运行情况一目了然</li>
</ul>
<h4>项目结构</h4>
<p>项目采用分模块开发方式</p>
<pre><code class="language-shell">freeman
├── freeman-ant-design-vue   前端vue项目
│   ├── public
│   └── src
│       ├── api
│       ├── assets
│       ├── components
│       └── views
|
├── freeman-app
│   └── com.freeman
│       ├── common 公共模块
│       │   ├── advice        统一异常处理
│       │   ├── asyncTask     异步任务
│       │   ├── auth
│       │   │   └── shiro     权限控制
│       │   │       ├── cache
│       │   │       ├── filter
│       │   │       ├── realm 支持多种登录方式
│       │   │       ├── session 用户ID=&gt;sessionId
│       │   │       ├── token 
│       │   │       └── utils Shiro工具类
│       │   ├── base          基础父类
│       │   │   ├── controller
│       │   │   ├── domain
│       │   │   └── service
│       │   │       └── impl
│       │   ├── config         配置
│       │   ├── constants      常量
│       │   ├── dataPerm       权限过滤
│       │   ├── dataSource     动态多数据源
│       │   ├── log            系统日志切面处理
│       │   ├── runner         项目启动加载
│       │   ├── task           简单定时任务
│       ├── job                quartz任务调度
│       └── sys                后台管理
|
├── freeman-jpa-plus           jpa增强模块
|
└── freeman-common             通用模块
    └── com.freeman.common
        ├── cache.redis        缓存
        ├── file               文件上传
        ├── limit              接口限流
        ├── reflect            反射工具类
        ├── result             数据统一返回处理
        ├── utils              常用工具类
        ├── validator          bean验证
        └── xss                xss过滤

</code></pre>
<h4>系统预览</h4>
<table>
    <tr>
        <td><img src="img/home.png"/></td>
        <td><img src="img/org.png"/></td>
    </tr>
    <tr>
        <td><img src="img/user.png"/></td>
        <td><img src="img/userinfo.png"/></td>
    </tr>
    <tr>
        <td><img src="img/track.png"/></td>
        <td><img src="img/setting.png"/></td>
    </tr>
</table>
<h4>反馈交流</h4>
<ul>
<li>QQ交流群：817181470</li>
</ul>
<h4>使用说明</h4>
<p>jdk1.8,mysql5.7,redis4+,lombok1.18.8</p>
<p>后端</p>
<ul>
<li>导入freeman目录下的freeman.sql文件到mysql数据库</li>
<li>导入项目到Idea,(项目目前使用分模块开发，建议是用IDEA开发).</li>
<li>修改数据库配置: application-dev.yml中的jdbc-url、username、password.</li>
<li>修改redis配置: application-dev.yml中的host、port、password.</li>
<li>启动项目(freeman-app中的com.freeman.FreemanApplication),管理员账号system/密码123456
前端</li>
<li>freeman-ant-design-vue执行终端命令<code>yarn</code>安装依赖</li>
<li>安装完成后执行<code>yarn serve</code>启动项目,会自动打开浏览器</li>
</ul>
<h4>项目部署流程</h4>
<p>node,yarn</p>
<p>后端 freeman-app</p>
<ul>
<li>确认修改正确yml配置文件中的spring.profiles.active参数,mysql数据库连接参数,redis连接
在freeman-parent目录终端执行maven命令 <code>clean package</code></li>
<li>部署方式用两种：
<ul>
<li>可以用freeman-app/target目录生成的jar包</li>
<li>可以用docker, 上传文件到服务器,在服务器上构建镜像(请查看freeman-app/Dockerfile中的注释内容)</li>
</ul>
</li>
</ul>
<p>前端 freeman-ant-design-vue</p>
<ul>
<li>确认修改正确<code>.env.production</code>配置文件中<code>VUE_APP_URL</code></li>
<li>在freeman-ant-design-vue目录终端执行yarn命令 <code>yarn build</code></li>
<li>生成的dist目录下的所有文件放到静态web服务器中即可</li>
</ul>
</div></section><footer class="footer-container"><div class="footer-body"><div class="copyright"><span>Copyright © 2019 刘志新</span></div></div></footer></div></div>
	<script src="https://f.alicdn.com/react/15.4.1/react-with-addons.min.js"></script>
	<script src="https://f.alicdn.com/react/15.4.1/react-dom.min.js"></script>
	<script>
		window.rootPath = '';
  </script>
	<script src="/build/documentation.js"></script>
</body>
</html>